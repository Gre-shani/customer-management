{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gresh\\\\OneDrive\\\\Desktop\\\\Project\\\\customer-management\\\\frontend\\\\src\\\\components\\\\CustomerTable.js\";\n// CustomerTable: displays list, provides client-side pagination and sorting.\nimport React from 'react';\n\n// Controlled table component. Expects server-provided page data and callbacks.\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CustomerTable({\n  customers = [],\n  page = 0,\n  size = 10,\n  totalPages = 1,\n  totalElements = 0,\n  onPageChange,\n  onSortChange,\n  sort = {\n    key: 'name',\n    dir: 'asc'\n  },\n  onRowClick,\n  loading = false,\n  error = null\n}) {\n  // Helper to render sort indicator\n  const renderSort = key => {\n    if (!sort || sort.key !== key) return null;\n    return sort.dir === 'asc' ? ' ▲' : ' ▼';\n  };\n  const gotoFirst = () => onPageChange && onPageChange(0);\n  const gotoPrev = () => onPageChange && onPageChange(Math.max(0, page - 1));\n  const gotoNext = () => onPageChange && onPageChange(Math.min(totalPages - 1, page + 1));\n  const gotoLast = () => onPageChange && onPageChange(Math.max(0, totalPages - 1));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"table-container\",\n    children: [loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading\",\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 19\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"msg error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"table-responsive\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              onClick: () => onSortChange && onSortChange('id'),\n              children: [\"ID\", renderSort('id')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 38,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              onClick: () => onSortChange && onSortChange('name'),\n              children: [\"Name\", renderSort('name')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 39,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              onClick: () => onSortChange && onSortChange('dob'),\n              children: [\"Date of Birth\", renderSort('dob')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 40,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"NIC\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 41,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Mobiles\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 42,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Families\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: [customers.length === 0 && !loading && /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              colSpan: 6,\n              style: {\n                textAlign: 'center'\n              },\n              children: \"No customers\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 15\n          }, this), customers.map(c => /*#__PURE__*/_jsxDEV(\"tr\", {\n            onClick: () => onRowClick && onRowClick(c),\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: c.id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: c.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: c.dob || ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: c.nic || ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: (c.mobiles || []).length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: (c.families || []).length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 17\n            }, this)]\n          }, c.id || `${c.name}-${Math.random()}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pagination\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: gotoFirst,\n        disabled: page <= 0,\n        children: \"First\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: gotoPrev,\n        disabled: page <= 0,\n        children: \"Prev\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"Page \", page + 1, \" / \", totalPages]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: gotoNext,\n        disabled: page >= totalPages - 1,\n        children: \"Next\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: gotoLast,\n        disabled: page >= totalPages - 1,\n        children: \"Last\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n}\n_c = CustomerTable;\nvar _c;\n$RefreshReg$(_c, \"CustomerTable\");","map":{"version":3,"names":["React","jsxDEV","_jsxDEV","CustomerTable","customers","page","size","totalPages","totalElements","onPageChange","onSortChange","sort","key","dir","onRowClick","loading","error","renderSort","gotoFirst","gotoPrev","Math","max","gotoNext","min","gotoLast","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","length","colSpan","style","textAlign","map","c","id","name","dob","nic","mobiles","families","random","disabled","_c","$RefreshReg$"],"sources":["C:/Users/gresh/OneDrive/Desktop/Project/customer-management/frontend/src/components/CustomerTable.js"],"sourcesContent":["// CustomerTable: displays list, provides client-side pagination and sorting.\r\nimport React from 'react';\r\n\r\n// Controlled table component. Expects server-provided page data and callbacks.\r\nexport default function CustomerTable({\r\n  customers = [],\r\n  page = 0,\r\n  size = 10,\r\n  totalPages = 1,\r\n  totalElements = 0,\r\n  onPageChange,\r\n  onSortChange,\r\n  sort = { key: 'name', dir: 'asc' },\r\n  onRowClick,\r\n  loading = false,\r\n  error = null\r\n}) {\r\n  // Helper to render sort indicator\r\n  const renderSort = (key) => {\r\n    if (!sort || sort.key !== key) return null;\r\n    return sort.dir === 'asc' ? ' ▲' : ' ▼';\r\n  };\r\n\r\n  const gotoFirst = () => onPageChange && onPageChange(0);\r\n  const gotoPrev = () => onPageChange && onPageChange(Math.max(0, page - 1));\r\n  const gotoNext = () => onPageChange && onPageChange(Math.min(totalPages - 1, page + 1));\r\n  const gotoLast = () => onPageChange && onPageChange(Math.max(0, totalPages - 1));\r\n\r\n  return (\r\n    <div className=\"table-container\">\r\n      {loading && <div className=\"loading\">Loading...</div>}\r\n      {error && <div className=\"msg error\">{error}</div>}\r\n\r\n      <div className=\"table-responsive\">\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th onClick={() => onSortChange && onSortChange('id')}>ID{renderSort('id')}</th>\r\n              <th onClick={() => onSortChange && onSortChange('name')}>Name{renderSort('name')}</th>\r\n              <th onClick={() => onSortChange && onSortChange('dob')}>Date of Birth{renderSort('dob')}</th>\r\n              <th>NIC</th>\r\n              <th>Mobiles</th>\r\n              <th>Families</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {customers.length === 0 && !loading && (\r\n              <tr><td colSpan={6} style={{ textAlign: 'center' }}>No customers</td></tr>\r\n            )}\r\n            {customers.map(c => (\r\n              <tr key={c.id || `${c.name}-${Math.random()}`} onClick={() => onRowClick && onRowClick(c)}>\r\n                <td>{c.id}</td>\r\n                <td>{c.name}</td>\r\n                <td>{c.dob || ''}</td>\r\n                <td>{c.nic || ''}</td>\r\n                <td>{(c.mobiles || []).length}</td>\r\n                <td>{(c.families || []).length}</td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      <div className=\"pagination\">\r\n        <button onClick={gotoFirst} disabled={page <= 0}>First</button>\r\n        <button onClick={gotoPrev} disabled={page <= 0}>Prev</button>\r\n        <span>Page {page + 1} / {totalPages}</span>\r\n        <button onClick={gotoNext} disabled={page >= totalPages - 1}>Next</button>\r\n        <button onClick={gotoLast} disabled={page >= totalPages - 1}>Last</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}