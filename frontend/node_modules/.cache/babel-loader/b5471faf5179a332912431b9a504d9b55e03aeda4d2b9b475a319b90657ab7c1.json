{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gresh\\\\OneDrive\\\\Desktop\\\\Project\\\\customer-management\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\n// Main application component. Composes the CustomerTable and BulkUpload components.\nimport React, { useState, useEffect, useRef } from 'react';\nimport CustomerTable from './components/CustomerTable';\nimport BulkUpload from './components/BulkUpload';\nimport CustomerModal from './components/CustomerModal';\nimport api from './api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function App() {\n  _s();\n  // customers holds the list fetched from backend\n  const [customers, setCustomers] = useState([]);\n  // selected customer for modal\n  const [selected, setSelected] = useState(null);\n  // refresh toggle to refetch after bulk upload\n  const refreshRef = useRef(false);\n\n  // fetch customers\n  useEffect(() => {\n    let cancelled = false;\n    async function fetchCustomers() {\n      try {\n        const res = await api.getAll();\n        if (!cancelled) setCustomers(res.data || []);\n      } catch (err) {\n        console.error('Failed to fetch customers', err);\n      }\n    }\n    fetchCustomers();\n    return () => {\n      cancelled = true;\n    };\n  }, [refreshRef.current]);\n\n  // called after successful upload to refresh list\n  function handleUploadSuccess() {\n    // toggle ref to trigger useEffect\n    refreshRef.current = !refreshRef.current;\n    // force a refetch by updating state (simple approach)\n    api.getAll().then(res => setCustomers(res.data || [])).catch(() => {});\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Customer Management\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(BulkUpload, {\n      onSuccess: handleUploadSuccess\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CustomerTable, {\n      customers: customers,\n      onRowClick: setSelected\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), selected && /*#__PURE__*/_jsxDEV(CustomerModal, {\n      customer: selected,\n      onClose: () => setSelected(null)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"4ve2ulOAm6OEXsiTMztoLBCpMwQ=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","CustomerTable","BulkUpload","CustomerModal","api","jsxDEV","_jsxDEV","App","_s","customers","setCustomers","selected","setSelected","refreshRef","cancelled","fetchCustomers","res","getAll","data","err","console","error","current","handleUploadSuccess","then","catch","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSuccess","onRowClick","customer","onClose","_c","$RefreshReg$"],"sources":["C:/Users/gresh/OneDrive/Desktop/Project/customer-management/frontend/src/App.js"],"sourcesContent":["// Main application component. Composes the CustomerTable and BulkUpload components.\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport CustomerTable from './components/CustomerTable';\r\nimport BulkUpload from './components/BulkUpload';\r\nimport CustomerModal from './components/CustomerModal';\r\nimport api from './api';\r\n\r\nexport default function App() {\r\n  // customers holds the list fetched from backend\r\n  const [customers, setCustomers] = useState([]);\r\n  // selected customer for modal\r\n  const [selected, setSelected] = useState(null);\r\n  // refresh toggle to refetch after bulk upload\r\n  const refreshRef = useRef(false);\r\n\r\n  // fetch customers\r\n  useEffect(() => {\r\n    let cancelled = false;\r\n    async function fetchCustomers() {\r\n      try {\r\n        const res = await api.getAll();\r\n        if (!cancelled) setCustomers(res.data || []);\r\n      } catch (err) {\r\n        console.error('Failed to fetch customers', err);\r\n      }\r\n    }\r\n    fetchCustomers();\r\n    return () => {\r\n      cancelled = true;\r\n    };\r\n  }, [refreshRef.current]);\r\n\r\n  // called after successful upload to refresh list\r\n  function handleUploadSuccess() {\r\n    // toggle ref to trigger useEffect\r\n    refreshRef.current = !refreshRef.current;\r\n    // force a refetch by updating state (simple approach)\r\n    api.getAll().then(res => setCustomers(res.data || [])).catch(() => {});\r\n  }\r\n\r\n  return (\r\n    <div className=\"app-container\">\r\n      <h1>Customer Management</h1>\r\n      <BulkUpload onSuccess={handleUploadSuccess} />\r\n      <CustomerTable customers={customers} onRowClick={setSelected} />\r\n      {selected && (\r\n        <CustomerModal customer={selected} onClose={() => setSelected(null)} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAC1D,OAAOC,aAAa,MAAM,4BAA4B;AACtD,OAAOC,UAAU,MAAM,yBAAyB;AAChD,OAAOC,aAAa,MAAM,4BAA4B;AACtD,OAAOC,GAAG,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExB,eAAe,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EAC5B;EACA,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAC9C;EACA,MAAM,CAACa,QAAQ,EAAEC,WAAW,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EAC9C;EACA,MAAMe,UAAU,GAAGb,MAAM,CAAC,KAAK,CAAC;;EAEhC;EACAD,SAAS,CAAC,MAAM;IACd,IAAIe,SAAS,GAAG,KAAK;IACrB,eAAeC,cAAcA,CAAA,EAAG;MAC9B,IAAI;QACF,MAAMC,GAAG,GAAG,MAAMZ,GAAG,CAACa,MAAM,CAAC,CAAC;QAC9B,IAAI,CAACH,SAAS,EAAEJ,YAAY,CAACM,GAAG,CAACE,IAAI,IAAI,EAAE,CAAC;MAC9C,CAAC,CAAC,OAAOC,GAAG,EAAE;QACZC,OAAO,CAACC,KAAK,CAAC,2BAA2B,EAAEF,GAAG,CAAC;MACjD;IACF;IACAJ,cAAc,CAAC,CAAC;IAChB,OAAO,MAAM;MACXD,SAAS,GAAG,IAAI;IAClB,CAAC;EACH,CAAC,EAAE,CAACD,UAAU,CAACS,OAAO,CAAC,CAAC;;EAExB;EACA,SAASC,mBAAmBA,CAAA,EAAG;IAC7B;IACAV,UAAU,CAACS,OAAO,GAAG,CAACT,UAAU,CAACS,OAAO;IACxC;IACAlB,GAAG,CAACa,MAAM,CAAC,CAAC,CAACO,IAAI,CAACR,GAAG,IAAIN,YAAY,CAACM,GAAG,CAACE,IAAI,IAAI,EAAE,CAAC,CAAC,CAACO,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;EACxE;EAEA,oBACEnB,OAAA;IAAKoB,SAAS,EAAC,eAAe;IAAAC,QAAA,gBAC5BrB,OAAA;MAAAqB,QAAA,EAAI;IAAmB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC5BzB,OAAA,CAACJ,UAAU;MAAC8B,SAAS,EAAET;IAAoB;MAAAK,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAC9CzB,OAAA,CAACL,aAAa;MAACQ,SAAS,EAAEA,SAAU;MAACwB,UAAU,EAAErB;IAAY;MAAAgB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,EAC/DpB,QAAQ,iBACPL,OAAA,CAACH,aAAa;MAAC+B,QAAQ,EAAEvB,QAAS;MAACwB,OAAO,EAAEA,CAAA,KAAMvB,WAAW,CAAC,IAAI;IAAE;MAAAgB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CACvE;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV;AAACvB,EAAA,CA3CuBD,GAAG;AAAA6B,EAAA,GAAH7B,GAAG;AAAA,IAAA6B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}